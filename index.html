<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Aahana â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif;}
body{background:linear-gradient(180deg,#ffd6e8,#ffeaf3);color:#333;text-align:center;}
.page{display:none;min-height:100vh;padding:50px 22px;pointer-events:none}
.page.active{display:block;pointer-events:auto}
.terminal{background:#000;color:#00ff9c;max-width:760px;margin:40px auto;padding:32px;border-radius:18px;font-size:22px;line-height:1.9;text-align:left}
.cursor{display:inline-block;width:10px;animation:blink 1s infinite}
@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}
h1{color:#ff3b7c;font-size:38px;margin-bottom:25px}
p{font-size:24px;line-height:1.9;max-width:820px;margin:0 auto}
button{padding:16px 44px;border:none;border-radius:999px;background:#ff4d8d;color:#fff;font-size:20px;margin:40px 10px 0;cursor:pointer}
button.secondary{background:#666}
button.loc{background:#6a5cff}
button:disabled{opacity:.4;cursor:not-allowed}
.photos,.gifts{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;max-width:520px;margin:30px auto}
.photos img,.gifts img{width:100%;border-radius:16px;cursor:pointer;border:4px solid transparent}
.gifts img.selected{border-color:#ff3b7c;transform:scale(1.05)}
.flip-gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;max-width:560px;margin:40px auto}
.photo-slider{position:relative;width:100%;height:260px;border-radius:16px;overflow:hidden}
.photo-slider img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:1s}
.photo-slider img.active{opacity:1}
.birthday-card{background:linear-gradient(160deg,#8b1e2d,#b8324a);max-width:340px;margin:60px auto;padding:35px 22px;border-radius:22px;color:#fff}
.bd-name{color:#ffd6e8;font-size:22px;margin-top:18px}
form{max-width:420px;margin:30px auto}
input,textarea{width:100%;padding:14px;margin:10px 0;border-radius:10px;border:1px solid #ccc}
.flip-gallery{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:20px;
  max-width:560px;
  margin:40px auto;
  perspective:1200px;
}

.flip-card{
  height:180px;
  cursor:pointer;
}

.flip-inner{
  position:relative;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  transition:transform 0.9s cubic-bezier(.4,.2,.2,1);
}

.flip-card.flipped .flip-inner{
  transform:rotateY(180deg);
}

.flip-front,
.flip-back{
  position:absolute;
  width:100%;
  height:100%;
  border-radius:18px;
  backface-visibility:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

.flip-front{
  background:linear-gradient(145deg,#b44,#d66);
  color:#fff;
  flex-direction:column;
}

.flip-front span{
  font-size:34px;
}

.flip-front p{
  margin-top:8px;
  font-size:14px;
}

.flip-back{
  transform:rotateY(180deg);
  overflow:hidden;
}

.flip-back img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:18px;
}
.flip-caption{
  position:absolute;
  bottom:0;
  width:100%;
  padding:10px;
  background:rgba(0,0,0,0.55);
  color:#fff;
  font-size:14px;
  text-align:center;
  border-radius:0 0 18px 18px;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="page active" id="p1">
  <div class="terminal">
    <span id="terminalText"></span><span class="cursor">|</span>
  </div>
  <button onclick="go(2)">Next</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="p2">
  <div class="birthday-card">
    <h1>Happy Birthday</h1>
    <div class="photo-slider">
      <img src="assets/images/p1.jpg" class="active">
      <img src="assets/images/p2.jpg">
      <img src="assets/images/p3.jpg">
    </div>
    <p class="bd-name">Aahana ğŸ’–</p>
  </div>
  <button onclick="go(3)">Next</button>
</div>

<!-- PAGE 3 -->
<div class="page" id="p3">
<h1>Once Again Happy Birthday</h1>
<p>
Happy Birthday DearğŸ˜˜ğŸ’–<br>
May this day remind you how special you are,
not just today, but every single day.
Your smile makes moments brighter,
and your presence makes life beautiful
Iâ€™m so grateful you were born.âœ¨
</p>
<button onclick="go(4)">Next</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="p4">
<h1>My Feelings â£ï¸</h1>
<p>
I donâ€™t really know how to say this or how to explain everything properly, but Iâ€™ve decided that itâ€™s better to be honest now. I know youâ€™re already aware of this, yet I still want to say it myself.
Ever since I met you at the wedding, I started liking you a lot. Slowly, I also became emotionally attached to you. But when you donâ€™t talk to me and stay busy the whole day, it hurts me and doesnâ€™t feel good. I donâ€™t know what conversation you and Shree had about me, but after that, you donâ€™t talk to me the way you used to.
I know that you are older than me, and I also know that nothing more can happen between us. Still, all I want is to remain friends with you. If not forever, then at least until your marriage. And if thatâ€™s not possible, itâ€™s okay â€” Iâ€™ll understand.
One more thing: I am blocking you from everywhere now. If you truly want to keep this friendship, please call me on Sunday evening between 6 and 10. If I donâ€™t receive a call, Iâ€™ll take that as your answer myself.
Happy Birthday, dear.
</p>
<button onclick="go(5)">Next</button>
</div>

<!-- PAGE 5 -->

<div class="page" id="p5">
  <h1>My Favourite picsğŸ’–</h1>

  <div class="flip-gallery">

    <div class="flip-card">
      <div class="flip-inner">
        <div class="flip-front">
          <span>ğŸ“¸</span>
          <p>Tap to reveal</p>
        </div>
        <div class="flip-back">
          <img src="assets/images/photo1.jpg">
          <div class="flip-caption">
              That moment when everything felt calm and beautiful.
          </div>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-inner">
        <div class="flip-front">
          <span>ğŸ“¸</span>
          <p>Tap to reveal</p>
        </div>
        <div class="flip-back">
          <img src="assets/images/photo2.jpg">
          <div class="flip-caption">
              A memory I didnâ€™t plan, but my heart chose.
          </div>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-inner">
        <div class="flip-front">
          <span>ğŸ“¸</span>
          <p>Tap to reveal</p>
        </div>
        <div class="flip-back">
          <img src="assets/images/photo3.jpg">
          <div class="flip-caption">
             Some moments stay, even when time moves on. 
          </div>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-inner">
        <div class="flip-front">
          <span>ğŸ“¸</span>
          <p>Tap to reveal</p>
        </div>
        <div class="flip-back">
          <img src="assets/images/photo4.jpg">
          <div class="flip-caption">
              A small smile, but a forever feeling.
          </div>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-inner">
        <div class="flip-front">
          <span>ğŸ“¸</span>
          <p>Tap to reveal</p>
        </div>
        <div class="flip-back">
          <img src="assets/images/photo5.jpg">
          <div class="flip-caption">
              This picture reminds me why I still smile.
          </div>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-inner">
        <div class="flip-front">
          <span>ğŸ“¸</span>
          <p>Tap to reveal</p>
        </div>
        <div class="flip-back">
          <img src="assets/images/photo6.jpg">
          <div class="flip-caption">
              Not just a photo, a piece of my heart.
          </div>
        </div>
      </div>
    </div>

  </div>

  <button onclick="go(6)">Next</button>
</div>

<!-- PAGE 6 -->
<div class="page" id="p6">
<h1>Will you be my forever??</h1>
<p>Itâ€™s not just a question, itâ€™s my promise.
A promise to choose you every day,
to stand with you in smiles and storms,
to grow, to laugh, to dream â€” together.
Youâ€™re not just someone I love,
youâ€™re the place where my heart feels home.</p>
<button onclick="answer('YES')">YES</button>
<button class="secondary" onclick="answer('NO')">NO</button>
</div>

<!-- PAGE 7 -->
<div class="page" id="p7">
<h1>Select Anyone ğŸ</h1>
<div class="gifts">
<img src="assets/images/gift1.jpg" onclick="selectGift('Teddy Bear',this)">
<img src="assets/images/gift2.jpg" onclick="selectGift('Locket',this)">
<img src="assets/images/gift3.jpg" onclick="selectGift('Short kurti',this)">
<img src="assets/images/gift4.jpg" onclick="selectGift('Full kurti',this)">
<img src="assets/images/gift5.jpg" onclick="selectGift('Red saree',this)">
<img src="assets/images/gift6.jpg" onclick="selectGift('Purple saree',this)">
<img src="assets/images/gift7.jpg" onclick="selectGift('Gift set',this)">
<img src="assets/images/gift8.jpg" onclick="selectGift('Perfume',this)">
</div>
<button id="nextGiftBtn" onclick="go(8)" disabled>Next</button>
</div>

<!-- PAGE 8 -->
<div class="page" id="p8">
<h1>Delivery Details ğŸ’</h1>
<form onsubmit="sendTelegram(event)">
<input required id="name" placeholder="Your Name">
<input required id="phone" placeholder="Mobile Number">
<input required id="pincode" placeholder="Pincode">
<input id="city" placeholder="City" readonly>
<input id="state" placeholder="State" readonly>
<textarea required id="address" placeholder="Full Address"></textarea>

<button type="button" class="loc" onclick="getCurrentLocation()">ğŸ“ Use Current Location</button>
<button type="submit">Confirm</button>
</form>
</div>

<!-- PAGE 9 -->
<div class="page" id="p9">
<h1>Order Confirmed ğŸ‰</h1>
<p>Your surprise is on the way ğŸ’–</p>
</div>

<script>
let response="", gift="", lat="", lng="";

const terminalLines=[
"Aahana,","Today is your birthday.","So I created something special.","",
"Not to impress you,","but to make you smile.","",
"Everything here is simple.","Just like my feelings."
];
let l=0,c=0;
function typeWriter(){
if(l<terminalLines.length){
if(c<terminalLines[l].length){
terminalText.innerHTML+=terminalLines[l].charAt(c++);setTimeout(typeWriter,70);
}else{terminalText.innerHTML+="<br>";c=0;l++;setTimeout(typeWriter,700);}
}}
typeWriter();

function go(n){document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));document.getElementById("p"+n).classList.add("active")}
function answer(a){response=a;go(7)}
function selectGift(g,e){gift=g;document.querySelectorAll(".gifts img").forEach(i=>i.classList.remove("selected"));e.classList.add("selected");nextGiftBtn.disabled=false}

/* ===== CURRENT LOCATION (AS YOU GAVE) ===== */
async function getCurrentLocation(){
  if(!("geolocation" in navigator)){alert("Geolocation not supported");return;}
  try{
    const pos=await new Promise((res,rej)=>navigator.geolocation.getCurrentPosition(res,rej));
    lat=pos.coords.latitude; lng=pos.coords.longitude;
    const r=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);
    const d=await r.json();
    address.value=d.display_name??"";
    city.value=d.address?.city??d.address?.town??"";
    state.value=d.address?.state??"";
    pincode.value=d.address?.postcode??"";
  }catch{alert("Location error");}
}

async function sendTelegram(e){
e.preventDefault();
const maps=lat&&lng?`https://www.google.com/maps?q=${lat},${lng}`:"";
await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},
body:JSON.stringify({
response,gift,
name:name.value,
phone:phone.value,
address:address.value,
city:city.value,
state:state.value,
pincode:pincode.value,
maps,
time:new Date().toLocaleString()
})});
go(9);
}
/* ===== PAGE 2 AUTO SLIDER (2 sec) ===== */
const slides = document.querySelectorAll("#p2 .photo-slider img");
let slideIndex = 0;

setInterval(() => {
  slides[slideIndex].classList.remove("active");
  slideIndex = (slideIndex + 1) % slides.length;
  slides[slideIndex].classList.add("active");
}, 2000);
/* ===== PAGE 5 FLIP CARDS ===== */
document.querySelectorAll(".flip-card").forEach(card=>{
  card.addEventListener("click",()=>{
    card.classList.toggle("flipped");
  });
});
</script>

</body>
</html>